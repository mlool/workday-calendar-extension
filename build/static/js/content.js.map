{"version":3,"file":"static/js/content.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","popup/App/App.types.ts","content/index.ts","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export enum SectionType {\n    lecture,\n    tutorial,\n    lab\n}\n\nexport enum Term {\n    summerOne,\n    summerTwo,\n    summerFull,\n    winterOne,\n    winterTwo,\n    winterFull,\n}\n\nexport interface ISectionData {\n    code: string,\n    name: string,\n    type: SectionType,\n    location: string,\n    days: string[],\n    startTime: string,\n    endTime: string,\n    term: Term,\n    // details: string,\n    // title: string,\n}\n\nexport const baseSection:ISectionData = {\n    code: \"\",\n    name: \"\",\n    type: SectionType.lecture,\n    location: \"\",\n    days: [],\n    startTime: \"\",\n    endTime: \"\",\n    term: Term.winterOne,\n}","import { Term } from '../popup/App/App.types';\n\n// Interface representing a section of a course\ninterface Section {\n  code: string; // Course code\n  name: string; // Course name\n  location: string; // Location where the course takes place\n  days: string[]; // Days of the week the course is held on\n  startTime: string; // Start time of the course\n  endTime: string; // End time of the course\n  term: Term; // Term when the course is offered\n}\n\n// Function to add a button to a given HTML element\nfunction addButtonToElement(element: Element): void {\n  // Creating a button element\n  const button: HTMLButtonElement = document.createElement('button');\n  // Setting the button text content to '+'\n  button.textContent = '+';\n  // Assign unique ID\n  button.id = `addButton`;\n  // Custom attribute to track state\n  button.dataset.state = 'notAdded'; // Custom attribute to track state\n  // Adding an event listener for when the button is clicked\n  button.addEventListener('click', () => {\n    handleButtonClick(button);\n  });\n\n  // Styling the button\n  button.style.padding = '10px 20px';\n  button.style.fontSize = '16px';\n  button.style.color = '#333';\n  button.style.backgroundColor = '#EEF1F2';\n  button.style.boxShadow = '0 0 0 1px #CED3D9';\n  button.style.cursor = 'pointer';\n  button.style.marginRight = '10px';\n  button.style.borderRadius = '5px';\n  button.style.transition = 'all 120ms ease-in';\n  button.style.border = 'none';\n  button.style.outline = 'none';\n  button.style.textAlign = 'center'; // Center the text horizontally\n  button.style.width = '3.5em'; // Set the width of the button\n\n  // Adding display flex and align-items center to the button's parent\n  const parentElement = element.parentElement;\n  if (parentElement) {\n    parentElement.style.display = 'flex';\n    parentElement.style.alignItems = 'center';\n  }\n  \n  // Adding event listeners for mouse enter and leave to change button style\n  button.addEventListener('mouseenter', () => {\n    if (button.dataset.state === 'added') {\n      button.style.backgroundColor = '#7fc77b';\n    } else {\n      button.style.backgroundColor = '#CED3D9';\n    }\n    button.style.boxShadow = '0 0 0 1px #9DA9AF';\n  });\n\n  button.addEventListener('mouseleave', () => {\n    if (button.dataset.state === 'added') {\n      button.style.backgroundColor = '#8fdf8a';\n    } else {\n      button.style.backgroundColor = '#EEF1F2';\n    }\n    button.style.boxShadow = '0 0 0 1px #CED3D9';\n  });\n\n  // Inserting the button before the given element\n  element.parentNode?.insertBefore(button, element);\n\n\n\n  // Check if the section is already added and update the button state\n  let newSection = getSectionNextToButton(button, true);\n  chrome.storage.sync.get(['sections'], (result) => {\n    const sections: Section[] = result.sections || [];\n    if (\n      newSection &&\n      sections.map((section) => section.code).includes(newSection.code)\n    ) {\n      updateButtonState(button, true);\n    }\n  });\n}\n\n// Function to get the section details next to the button\nfunction getSectionNextToButton(\n  button: HTMLButtonElement,\n  quiet = false\n): Section | undefined {\n  const courseLabels = button.parentElement?.querySelectorAll(\n    '.gwt-Label.WKIP.WDHP'\n  );\n  // Checking if course labels exist and there are at least two of them\n  if (!courseLabels || courseLabels.length < 2) {\n    if (!quiet) alert('Title or section details not found');\n    return;\n  }\n\n  // Extracting title and section details from the labels\n  const titleElement = courseLabels[0];\n  const sectionDetailsElement = courseLabels[1];\n  const title = titleElement.textContent;\n  const sectionDetails = sectionDetailsElement.textContent;\n\n  // Checking if title or section details are missing\n  if (!title || !sectionDetails) {\n    if (!quiet) alert('Title or section details not found');\n    return;\n  }\n\n  // Splitting title and section details into parts\n  const titleParts = title.split(' - ');\n  const detailsParts = sectionDetails.split(' | ');\n\n  // Checking if title and section details have the expected format\n  if (titleParts.length !== 2 || detailsParts.length !== 4) {\n    alert(JSON.stringify(titleParts));\n    alert(JSON.stringify(detailsParts));\n    if (!quiet) alert('Invalid title or section details format');\n    return;\n  }\n\n  // Extracting individual parts from title and section details\n  const [code, name] = titleParts;\n  const [location, daysString, timeRange, dateRange] = detailsParts;\n  const days = daysString.split(' ');\n  const [startTime, endTime] = timeRange.split(' - ');\n\n  // Determining the term based on the date range\n  const term =\n    dateRange === '2024-09-03 - 2024-12-05' ? Term.winterOne : Term.winterTwo;\n\n  // Creating a new section object\n  const newSection: Section = {\n    code,\n    name,\n    location,\n    days,\n    startTime: convertTo24(startTime),\n    endTime: convertTo24(endTime),\n    term,\n  };\n  return newSection;\n}\n\n// Function to handle button click event\nfunction handleButtonClick(button: HTMLButtonElement): void {\n  let newSection = getSectionNextToButton(button);\n\n  const isAdded = button.dataset.state === 'added';\n  if (newSection) {\n    if (isAdded) {\n      // Logic to remove the section from Chrome storage\n      removeSectionFromStorage(button, newSection);\n    } else {\n      // Logic to add the section to Chrome storage\n      addSectionToStorage(button, newSection);\n    }\n  }\n}\n\n// Function to add a section to Chrome storage\nfunction addSectionToStorage(button: HTMLButtonElement, newSection: Section) {\n  chrome.storage.sync.get(['sections'], (result) => {\n    const sections: Section[] = result.sections || [];\n    if (!hasConflict(newSection, sections)) {\n      sections.push(newSection);\n      chrome.storage.sync.set({ sections: sections }, () => {\n        updateButtonState(button, true);\n      });\n    } else {\n      alert(\n        \"Sorry, this course conflicts with another section you've already added.\"\n      );\n    }\n  });\n}\n\n// Function to remove a section from Chrome storage\nfunction removeSectionFromStorage(\n  button: HTMLButtonElement,\n  newSection: Section\n) {\n  chrome.storage.sync.get(['sections'], (result) => {\n    let sections: Section[] = result.sections || [];\n    sections = sections.filter((s) => s.code !== newSection.code); // Need correct identifier to match\n    chrome.storage.sync.set({ sections: sections }, () => {\n      updateButtonState(button, false);\n    });\n  });\n}\n\n// Function to update the button state\nfunction updateButtonState(button: HTMLButtonElement, isAdded: boolean) {\n  if (isAdded) {\n    button.textContent = 'âœ”';\n    button.style.backgroundColor = '#8fdf8a'; // Green\n    button.dataset.state = 'added';\n  } else {\n    button.textContent = '+';\n    button.style.backgroundColor = '#EEF1F2'; // Grey\n    button.dataset.state = 'notAdded';\n  }\n}\n\n// Function to parse time from string to minutes\nfunction parseTime(timeStr: string): number {\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  return hours * 60 + minutes;\n}\n\n// Function to check for time conflicts between sections\nfunction hasConflict(\n  newSection: Section,\n  existingSections: Section[]\n): boolean {\n  const newDays = new Set(newSection.days);\n  const newStartTime = parseTime(newSection.startTime);\n  const newEndTime = parseTime(newSection.endTime);\n\n  for (const existingSection of existingSections) {\n    const existingDays = new Set(existingSection.days);\n    if (Array.from(newDays).some((day) => existingDays.has(day))) {\n      const existingStartTime = parseTime(existingSection.startTime);\n      const existingEndTime = parseTime(existingSection.endTime);\n      // Check for overlap\n      if (\n        !(newStartTime >= existingEndTime || newEndTime <= existingStartTime)\n      ) {\n        return true; // Conflict found\n      }\n    }\n  }\n  return false; // No conflicts found\n}\n\n// Function to observe DOM changes and add buttons to matching elements\nfunction observeDOMAndAddButtons(): void {\n  // Configuration for the mutation observer\n  const config: MutationObserverInit = {\n    childList: true,\n    subtree: true,\n    attributes: false,\n  };\n\n  // Callback function for the mutation observer\n  const callback: MutationCallback = (mutationsList, observer) => {\n    mutationsList.forEach((mutation) => {\n      if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {\n        mutation.addedNodes.forEach((node) => {\n          // Finding matching elements within the added node\n          const matchingElements = (node as Element).querySelectorAll(\n            '.WD5F.WB5F'\n          );\n          // Adding buttons to matching elements\n          if (matchingElements.length > 0) {\n            matchingElements.forEach((matchingElement) => {\n              addButtonToElement(matchingElement);\n            });\n          }\n        });\n      }\n    });\n  };\n\n  // Creating a new mutation observer instance\n  const observer: MutationObserver = new MutationObserver(callback);\n  // Observing changes to the document body with the specified configuration\n  observer.observe(document.body, config);\n}\n\n// Function to set up the observer for DOM changes\nfunction setupObserver(): void {\n  // If the document is still loading, add an event listener to observe DOM changes\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', observeDOMAndAddButtons);\n  } else {\n    // Otherwise, directly observe DOM changes\n    observeDOMAndAddButtons();\n  }\n}\n\n// Setting up the observer when the script is executed\nsetupObserver();\n\n// Function to convert time from 12-hour to 24-hour format\nfunction convertTo24(time: string): string {\n  const regex = /^(\\d{1,2}):(\\d{2})\\s*(a\\.m\\.|p\\.m\\.)$/i;\n  const match = time.match(regex);\n\n  if (!match) {\n    throw new Error('Invalid time format');\n  }\n\n  let [_, hours, minutes, period] = match;\n  let hoursNumber = parseInt(hours, 10);\n\n  if (period.toLowerCase() === 'p.m.' && hoursNumber !== 12) {\n    hoursNumber += 12;\n  } else if (period.toLowerCase() === 'a.m.' && hoursNumber === 12) {\n    hoursNumber = 0;\n  }\n\n  const formattedHours = hoursNumber.toString().padStart(2, '0');\n  const formattedMinutes = minutes.padStart(2, '0');\n\n  return `${formattedHours}:${formattedMinutes}`;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","TypeError","SectionType","Term","lecture","winterOne","addButtonToElement","element","_element$parentNode","button","document","createElement","textContent","id","dataset","state","addEventListener","newSection","getSectionNextToButton","isAdded","chrome","storage","sync","get","result","sections","filter","s","code","set","updateButtonState","removeSectionFromStorage","existingSections","_step","newDays","Set","days","newStartTime","parseTime","startTime","newEndTime","endTime","_iterator","allowArrayLike","it","F","e","f","normalCompletion","didErr","step","_e2","_createForOfIteratorHelper","_loop","existingSection","existingDays","some","day","has","existingStartTime","existingEndTime","v","_ret","hasConflict","alert","addSectionToStorage","handleButtonClick","style","padding","fontSize","color","backgroundColor","boxShadow","cursor","marginRight","borderRadius","transition","border","outline","textAlign","width","parentElement","display","alignItems","parentNode","insertBefore","map","section","includes","_button$parentElement","quiet","arguments","undefined","courseLabels","querySelectorAll","titleElement","sectionDetailsElement","title","sectionDetails","titleParts","split","detailsParts","JSON","stringify","_titleParts","_detailsParts","location","daysString","timeRange","dateRange","_timeRange$split2","term","winterTwo","convertTo24","timeStr","_timeStr$split$map2","Number","observeDOMAndAddButtons","MutationObserver","mutationsList","observer","forEach","mutation","type","addedNodes","node","matchingElements","matchingElement","observe","body","childList","subtree","attributes","time","match","Error","_match","hours","minutes","period","hoursNumber","parseInt","toLowerCase","formattedHours","padStart","formattedMinutes","concat","readyState"],"sourceRoot":""}